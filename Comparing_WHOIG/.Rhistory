source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Quan_Cases.R')
install.packages('Rcpp')
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Quan_Cases.R')
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Quan_Cases.R')
.rs.restartR()
install.packages('dplyr')
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Quan_Cases.R')
library(ggplot2)
library(tidyr)
install.packages(c('ggplot2', 'tidyr'))
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_Cases_Country.R')
debugSource('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_Cases_Country.R')
getwd()
LinkData <- '../Generate_Cases/' # Data folder is from the Generate_Cases part
LinkData
paste0(LinkData, 'Generate/Cases/')
# Read data from generated cases dataframe (from Generate Cases part)
Link_Generate_Cases_DF <- paste0(LinkData, 'Generate/Cases/')
ListFiles <- list.files(Link_Generate_Cases_DF)
ListFiles
##### Read Map data #####
Country_Index <- readRDS(paste0(LinkData, "Generate/Country_Index.Rds")) # index of countries
Coord_Regions_Final <- readRDS(paste0(LinkData, "Generate/Coord_Regions_Final.Rds")) # country index of each pixel
Cases.map <- readRDS(paste0(LinkData, ListFiles[length(ListFiles)])) # Take total cases (index 101)
source('D:/Duy_P0477/JERFOUCRU/Generate_Cases/Adjust_Pop_To_Match_UN.R')
source('D:/Duy_P0477/JERFOUCRU/Generate_Cases/Extract_Age_Distribution_Population.R')
source('D:/Duy_P0477/JERFOUCRU/Generate_Cases/Generate_Cases_Dataframe.R')
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_Cases_Country.R')
getwd()
LinkData <- '../Generate_Cases/' # Data folder is from the Generate_Cases part
Extract_Values_Country <- function(DF_Vals, DF_Coords, Index){
# Extract values of entire map based on their countries
# DF_Vals: Dataframe containing values in entire map
# DF_Coords: Dataframe containing pixel's index indicating which country it belongs to
# Index: Name of index in DF_Coords
# Index + DF_Coords has to match
# Coords in DF_Vals + DF_Coords have to match
result <- vector('list', length(Index))
names(result) <- Index
# Check Coord match
dx <- abs(DF_Vals$x - DF_Coords$x)
dy <- abs(DF_Vals$y - DF_Coords$y)
if (dx == 0 && dy == 0){
for (idx.country in 1 : length(Index)){
idx_point <- which(DF_Coords[[3]] == idx.country)
if (length(idx_point) > 0){
vals <- DF_Vals[[3]][idx_point]
result[[idx.country]] <- vals
}
}
}else{
cat('COORDINATES DO NOT MATCH --> STOP!!!\n')
}
return(result)
}
# Read data from generated cases dataframe (from Generate Cases part)
Link_Generate_Cases_DF <- paste0(LinkData, 'Generate/Cases/')
ListFiles <- list.files(Link_Generate_Cases_DF) # Make sure that you have to run the Generate Cases part before run the Comparing part
ListFiles
length(List\)
length(ListFiles)
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_Cases_Country.R')
p
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_Cases_Country.R')
p
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_Cases_Country_RF.R')
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_Cases_Country_RF.R')
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_FOI_Country.R')
install.packages(c('grid', 'gridExtra'))
install.packages(c("grid", "gridExtra"))
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_FOI_Country.R')
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_FOI_Country.R')
getwd()
##### Read Country index data #####
Country_Index <- readRDS(paste0(LinkData, "Generate/Country_Index.Rds")) # index of countries
Coord_Regions_Final <- readRDS(paste0(LinkData, "Generate/Coord_Regions_Final.Rds")) # country index of each pixel
##### Read Estimated FOI Values from RF #####
FOI_Estimated <- read.csv(paste0(LinkData, "Data/Endemic_result_Full_Cov_TVT_Land_400.csv",
sep = '\t'))
##### Read Estimated FOI Values from RF #####
FOI_Estimated <- read.csv(paste0(LinkData, "Data/Endemic_result_Full_Cov_TVT_Land_400.csv"),
sep = '\t')
.rs.restartR()
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_FOI_Country.R')
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_Pop_Country.R')
?gather
??gather
source('D:/Duy_P0477/JERFOUCRU/Comparing_WHOIG/Extract_Pop_Country.R')
